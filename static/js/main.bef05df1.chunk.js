(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(n,t,e){n.exports=e.p+"static/media/strawberry.d77cb177.png"},26:function(n,t,e){n.exports=e.p+"static/media/banana.abf2234f.png"},27:function(n,t,e){n.exports=e.p+"static/media/orange.7b3e3f1c.png"},28:function(n,t,e){n.exports=e.p+"static/media/monkey.0208eeab.png"},29:function(n,t,e){n.exports=e.p+"static/media/win.5419a33c.wav"},30:function(n,t,e){n.exports=e.p+"static/media/fail.05c73073.wav"},31:function(n,t,e){n.exports=e.p+"static/media/coin.e0f2b0be.wav"},33:function(n,t,e){n.exports=e(89)},38:function(n,t,e){},89:function(n,t,e){"use strict";e.r(t);var a=e(0),i=e.n(a),r=e(7),o=e.n(r),c=(e(38),e(1)),u=e(2),s=e(8),l=e(9),p=e(11),m=e(10),f=e(12),d=e(22),h=e.n(d);function g(){var n=Object(c.a)(["\n  width: 80px;\n  height: 80px;\n  border: 1px solid #eaeaea;\n  padding: 10px;\n"]);return g=function(){return n},n}var v=u.a.img(g()),b=function(n){var t=n.image;return i.a.createElement(v,{src:t,alt:t,"data-testid":"wheel"})},w=e(25),x=e.n(w),E=e(26),S=e.n(E),j=e(27),y=e.n(j),O=e(28),k=e.n(O),z=function(n){function t(){var n,e;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=Object(p.a)(this,(n=Object(m.a)(t)).call.apply(n,[this].concat(i)))).state={spinning:!1,wheels:[]},e.images=[x.a,S.a,y.a,k.a],e.randomImage=function(){return e.images[Math.floor(Math.random()*e.images.length)]},e.spin=function(){return e.setState({wheels:[e.randomImage(),e.randomImage(),e.randomImage()]})},e.tick=function(){return e.isSpinning=setInterval(e.spin,50)},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({wheels:[this.randomImage(),this.randomImage(),this.randomImage()]})}},{key:"componentDidUpdate",value:function(n,t){var e=this.state.spinning;e&&e!==t.spinning&&this.tick(),e||e===t.spinning||(clearInterval(this.isSpinning),this.props.onStop(this.state.wheels))}},{key:"render",value:function(){var n=this.state.wheels;return i.a.createElement(i.a.Fragment,null,n.map(function(n,t){return i.a.createElement(b,{key:"".concat(t,"_").concat(n),image:n})}))}}],[{key:"getDerivedStateFromProps",value:function(n,t){return{spinning:n.spin}}}]),t}(i.a.Component),I=e(29),R=e.n(I),D=e(30),M=e.n(D),C=e(31),F=e.n(C),T={win:R.a,fail:M.a,coin:F.a},A=function(n){var t=n.audio;return i.a.createElement("audio",{autoPlay:"autoplay",preload:"false"},i.a.createElement("source",{src:T[t]}))};function Y(){var n=Object(c.a)(["\n  position: absolute;\n  bottom: 20px;\n  right: 30px;\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 12px;\n  text-align: center;\n  margin: 0 auto;\n"]);return Y=function(){return n},n}function J(){var n=Object(c.a)(["\nmargin: 20px auto;\nfont-size: 25px;\ncolor: red;\n"]);return J=function(){return n},n}function P(){var n=Object(c.a)(["\n  margin: 20px auto;\n  font-size: 25px;\n  color: green;\n"]);return P=function(){return n},n}function U(){var n=Object(c.a)(["\n  font-size: 20px;\n  margin: 0 10px;\n  padding: 10px;\n"]);return U=function(){return n},n}function B(){var n=Object(c.a)(["\n  margin: 10px auto;\n"]);return B=function(){return n},n}function H(){var n=Object(c.a)(["\n  font-size: 35px;\n"]);return H=function(){return n},n}var $=u.a.h1(H()),_=u.a.div(B()),q=u.a.button(U()),G=u.a.div(P()),K=u.a.div(J()),L=u.a.div(Y()),N=100,Q=20,V=10,W=function(n){function t(){var n,e;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=Object(p.a)(this,(n=Object(m.a)(t)).call.apply(n,[this].concat(i)))).state={isRunning:!1,winner:!1,prize:0},e.handleStart=function(){e.setState({isRunning:!0,winner:!1,lose:!1,prize:0}),clearTimeout(e.start)},e.handleStop=function(){e.setState({isRunning:!1}),clearTimeout(e.stop)},e.handleResult=function(n){var t=n.map(function(n){return n.split("/").pop()}),a=h()(t);3!==a.length?1!==a.length?t[0]!==t[1]&&t[1]!==t[2]?e.setState({winner:!0,lose:!1,prize:V}):e.setState({winner:!0,lose:!1,prize:Q}):e.setState({winner:!0,lose:!1,prize:N}):e.setState({winner:!1,lose:!0,prize:0})},e}return Object(f.a)(t,n),Object(l.a)(t,[{key:"componentDidMount",value:function(){var n=this;this.start=setTimeout(function(){n.handleStart()},5e3)}},{key:"componentDidUpdate",value:function(){var n=this;this.state.isRunning&&(this.stop=setTimeout(function(){n.handleStop()},1e4))}},{key:"render",value:function(){var n=this.state,t=n.isRunning,e=n.winner,a=n.lose,r=n.prize;return i.a.createElement(i.a.Fragment,null,i.a.createElement($,null,"React Slot Machine"),i.a.createElement(z,{spin:t,onStop:this.handleResult}),i.a.createElement(_,null,i.a.createElement(q,{onClick:this.handleStart,disabled:t},"Start"),i.a.createElement(q,{onClick:this.handleStop,disabled:!t},"Stop")),i.a.createElement("div",{"data-testid":"prize"},e&&i.a.createElement(G,null,"You win! Your prize: $",r,".00"),e&&r===N&&i.a.createElement(A,{audio:"win"}),a&&i.a.createElement(i.a.Fragment,null,i.a.createElement(K,null,"You lose"),i.a.createElement(A,{audio:"fail"}))),i.a.createElement(L,null,"Source code:\xa0",i.a.createElement("a",{href:"https://github.com/chgasparoto/react-slot-machine"},"https://github.com/chgasparoto/react-slot-machine")))}}]),t}(i.a.Component);function X(){var n=Object(c.a)(["\n  width: 600px;\n  margin: 10px auto;\n  text-align: center;\n"]);return X=function(){return n},n}var Z=u.a.div(X()),nn=function(n){return i.a.createElement(Z,null,i.a.createElement(W,null))};o.a.render(i.a.createElement(nn,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.bef05df1.chunk.js.map